<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, interactive-widget=resizes-content">
<title>í‚¤ì› - ëª©í‘œ ë‹¬ì„± ê²Œì„</title>
<meta name="description" content="ìŠµê´€ê³¼ ë„ì „ì„ ê²Œì„ì²˜ëŸ¼! ê·€ì—¬ìš´ í–„ìŠ¤í„°ë¥¼ í‚¤ìš°ë©° ëª©í‘œë¥¼ ë‹¬ì„±í•˜ì„¸ìš”.">
<!-- Open Graph (ì¹´ì¹´ì˜¤í†¡, SNS, ë¬¸ì ê³µìœ ìš©) -->
<meta property="og:type" content="website">
<meta property="og:title" content="í‚¤ì› - ëª©í‘œ ë‹¬ì„± ê²Œì„">
<meta property="og:description" content="ìŠµê´€ê³¼ ë„ì „ì„ ê²Œì„ì²˜ëŸ¼! ê·€ì—¬ìš´ í–„ìŠ¤í„°ë¥¼ í‚¤ìš°ë©° ëª©í‘œë¥¼ ë‹¬ì„±í•˜ì„¸ìš” ğŸ¹">
<meta property="og:image" content="https://we-are-the-future33.github.io/questboard/og-image.png">
<meta property="og:url" content="https://we-are-the-future33.github.io/questboard/">
<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="í‚¤ì› - ëª©í‘œ ë‹¬ì„± ê²Œì„">
<meta name="twitter:description" content="ìŠµê´€ê³¼ ë„ì „ì„ ê²Œì„ì²˜ëŸ¼! ê·€ì—¬ìš´ í–„ìŠ¤í„°ë¥¼ í‚¤ìš°ë©° ëª©í‘œë¥¼ ë‹¬ì„±í•˜ì„¸ìš” ğŸ¹">
<meta name="twitter:image" content="https://we-are-the-future33.github.io/questboard/og-image.png">
<link rel="apple-touch-icon" href="logo.png">
<link rel="icon" type="image/png" href="logo.png">
<link rel="manifest" href="manifest.json">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="í‚¤ì›">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preconnect" href="https://www.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Bagel+Fat+One&display=swap" rel="stylesheet">
<link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
<style>
@font-face {
  font-family: 'GmarketSansBold';
  src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/GmarketSansBold.woff') format('woff');
  font-weight: bold;
}
</style>
<link rel="stylesheet" href="style.css?v=20260303c">
</head>
<body>

<!-- LOADING -->
<div id="loadingScreen" class="screen active">
  <div class="mobile-wrap loading-wrap">
    <div class="loading-content">
      <div class="loading-logo">í‚¤ì›</div>
      <div class="loading-sub">ëª©í‘œ ë‹¬ì„± ê²Œì„</div>
      <div class="loading-spinner"></div>
      <div class="loading-msg" id="loadingMsg">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
    </div>
  </div>
</div>

<!-- LOGIN -->
<div id="loginScreen" class="screen">
  <canvas id="loginCanvas" style="position:fixed;inset:0;width:100%;height:100%;z-index:0;pointer-events:none;"></canvas>
  <div class="mobile-wrap">
    <div class="login-top-bg"></div>
    <div class="login-hero">
      <div class="login-logo">ğŸ£</div>
      <div class="login-title">í‚¤ì›</div>
      <div class="login-sub">ì„±ì¥ ê²Œì„</div>
    </div>
    <div class="login-bottom-area">
      <div class="login-card">
        <div class="login-box">
          <div class="input-group"><label>ì•„ì´ë””</label><input type="text" id="loginId" placeholder="ì•„ì´ë”” ì…ë ¥" autocomplete="username"></div>
          <div class="input-group"><label>ë¹„ë°€ë²ˆí˜¸</label><input type="password" id="loginPw" placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥" autocomplete="current-password"></div>
          <div class="save-login-row">
            <input type="checkbox" id="saveLoginChk">
            <label for="saveLoginChk">ì•„ì´ë””/ë¹„ë°€ë²ˆí˜¸ ì €ì¥</label>
          </div>
          <button class="btn-primary" id="loginBtn" onclick="doLogin()">ë¡œê·¸ì¸</button>
          <div class="login-error" id="loginError">ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.</div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ADMIN -->
<div id="adminScreen" class="screen">
  <div class="mobile-wrap" style="max-width:900px;">
    <nav class="topnav">
      <div class="nav-logo">í‚¤ì› <span class="nav-badge">ADMIN</span></div>
      <div class="nav-right">
        <button class="btn-sm" onclick="renderAdminList()">ğŸ”„</button>
        <button class="btn-sm" style="background:var(--accent);color:#fff;border-color:var(--accent);" onclick="adminGoBack()">â† ëŒì•„ê°€ê¸°</button>
      </div>
    </nav>
    <!-- ì–´ë“œë¯¼ ì„¹ì…˜ íƒ­ -->
    <div style="display:flex;gap:6px;padding:12px 20px;background:#fff;position:sticky;top:0;z-index:30;border-bottom:2px solid #f1f5f9;">
      <button class="admin-sec-tab active" id="aTab_user" onclick="switchAdminSection('user')">ğŸ‘¤ ìœ ì €</button>
      <button class="admin-sec-tab" id="aTab_group" onclick="switchAdminSection('group')">ğŸ“ ê·¸ë£¹</button>
      <button class="admin-sec-tab" id="aTab_notice" onclick="switchAdminSection('notice')">ğŸ“¢ ê³µì§€</button>
    </div>
    <div class="page-pad" style="padding-bottom:60px;">
      <!-- ìœ ì € ê´€ë¦¬ -->
      <div class="admin-section active" id="aSection_user">
        <div id="adminUserCreateToggle" style="margin-bottom:12px;">
          <button class="btn-sm" style="width:100%;background:var(--accent);color:#fff;border-color:var(--accent);font-weight:700;padding:10px;" onclick="toggleAdminCreate()">ï¼‹ ìœ ì € ì¶”ê°€</button>
        </div>
        <div id="adminUserCreateForm" style="display:none;background:var(--surface);border:2px solid var(--border);border-radius:14px;padding:14px;margin-bottom:12px;">
          <div style="font-size:12px;color:var(--text-dim);font-weight:700;margin-bottom:8px;">ìƒˆ ê³„ì • ìƒì„±</div>
          <div style="display:flex;gap:6px;flex-wrap:wrap;">
            <input id="adminNewName" placeholder="ì´ë¦„" class="admin-input" style="flex:1;min-width:70px;">
            <input id="adminNewId" placeholder="ì•„ì´ë””" class="admin-input" style="flex:1;min-width:70px;">
          </div>
          <div style="display:flex;gap:6px;margin-top:6px;">
            <input id="adminNewPw" placeholder="ë¹„ë°€ë²ˆí˜¸" class="admin-input" style="flex:1;">
            <button class="btn-sm" style="background:var(--accent);color:#fff;border-color:var(--accent);font-weight:700;padding:8px 16px;" onclick="adminCreateUser()">ìƒì„±</button>
          </div>
        </div>
        <div id="adminUserTable"></div>
      </div>
      <!-- ê·¸ë£¹ ê´€ë¦¬ -->
      <div class="admin-section" id="aSection_group">
        <div style="display:flex;gap:8px;margin-bottom:16px;">
          <input id="adminNewGroupName" placeholder="ìƒˆ ê·¸ë£¹ ì´ë¦„" class="admin-input" style="flex:1;">
          <button class="btn-sm" style="background:var(--accent);color:#fff;border-color:var(--accent);font-weight:700;" onclick="adminCreateGroup()">ìƒì„±</button>
        </div>
        <div id="adminGroupList"></div>
      </div>
      <!-- ê³µì§€ì‚¬í•­ ê´€ë¦¬ -->
      <div class="admin-section" id="aSection_notice">
        <div style="background:var(--surface);border:2px solid var(--border);border-radius:14px;padding:18px;margin-bottom:16px;">
          <div class="admin-notice-form">
            <div class="admin-notice-row">
              <div class="admin-notice-label">ì œëª© *</div>
              <input class="admin-notice-input" id="noticeTitle" placeholder="ê³µì§€ ì œëª© ì…ë ¥" maxlength="50">
            </div>
            <div class="admin-notice-row">
              <div class="admin-notice-label">ë‚´ìš©</div>
              <textarea class="admin-notice-input admin-notice-textarea" id="noticeDesc" placeholder="ê³µì§€ ë‚´ìš© ì…ë ¥ (ì„ íƒì‚¬í•­)"></textarea>
            </div>
            <div class="admin-notice-row">
              <div class="admin-notice-label">ì´ë¯¸ì§€ URL</div>
              <input class="admin-notice-input" id="noticeImg" placeholder="ì´ë¯¸ì§€ URL ì…ë ¥ (ì„ íƒì‚¬í•­)">
            </div>
            <div class="admin-notice-row">
              <div class="admin-notice-label">ë…¸ì¶œ ëŒ€ìƒ *</div>
              <div class="admin-notice-target-row">
                <button class="admin-notice-target-btn active" id="noticeTargetAll" onclick="setNoticeTarget('all')">ì „ì²´</button>
                <button class="admin-notice-target-btn" id="noticeTargetGroup" onclick="setNoticeTarget('group')">íŠ¹ì • ê·¸ë£¹</button>
                <button class="admin-notice-target-btn" id="noticeTargetUser" onclick="setNoticeTarget('user')">íŠ¹ì • ì‚¬ëŒ</button>
              </div>
              <div id="noticeTargetDetail" style="display:none;"></div>
            </div>
            <button class="btn-sm" style="width:100%;background:var(--accent);color:#fff;border-color:var(--accent);font-weight:700;padding:12px;" onclick="submitNotice()">ê³µì§€ ì¶”ê°€</button>
          </div>
        </div>
        <div id="adminNoticeList"></div>
      </div>
    </div>
  </div>
</div>
<!-- Admin User Detail Overlay -->
<div id="adminDetailOverlay" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:200;overflow-y:auto;padding:24px 16px;" onclick="if(event.target===this)this.style.display='none'">
  <div id="adminDetailPanel" style="max-width:600px;margin:0 auto;background:var(--bg);border:2px solid var(--border);border-radius:20px;padding:24px;"></div>
</div>

<!-- TUTORIAL -->
<div id="tutorialScreen" class="screen">
  <div class="mobile-wrap">
    <div class="tut-topbar"><div class="tut-topbar-logo">QUEST</div></div>
    <div class="tut-progress">
      <div class="tut-step-dots" id="tutDots"></div>
      <div class="tut-track"><div class="tut-fill" id="tutFill" style="width:0%"></div></div>
    </div>
    <div class="tut-body">
      <div class="tut-step active" id="tutStep1">
        <div class="tut-bubble"><div class="tut-bubble-tag">STEP 1 Â· ëª©í‘œ ì„¤ì •</div><div class="tut-bubble-text">ë¨¼ì € <strong>ë‹¬ì„±í•˜ê³  ì‹¶ì€ ëª©í‘œ</strong>ë¥¼ ì •í•´ë³¼ê²Œìš”.<br>ì•„ë˜ ëª©í‘œë¥¼ íƒ­í•´ì„œ ì‹œì‘í•´ë³´ì„¸ìš”!</div></div>
        <button id="tutGoalBtn" onclick="tutStep1Confirm()" style="width:100%;background:var(--surface);border:2px solid var(--accent);border-radius:12px;padding:18px 16px;color:var(--text);font-size:16px;font-weight:700;font-family:var(--font-main);cursor:pointer;text-align:left;margin-bottom:20px;animation:pulse-border 1.2s ease-in-out infinite;">12ì‹œ ì „ì— ìê¸°</button>
      </div>
      <div class="tut-step" id="tutStep2">
        <div class="tut-bubble"><div class="tut-bubble-tag">STEP 2 Â· ë‹¨ìœ„ ì„¤ì •</div><div class="tut-bubble-text"><strong>ì–¼ë§ˆë‚˜ ìì£¼</strong> ì´ ëª©í‘œë¥¼ ìˆ˜í–‰í•  ê±´ê°€ìš”?<br>ì£¼ 4~5íšŒë¥¼ íƒ­í•´ì„œ ì„ íƒí•´ë³´ì„¸ìš”!</div></div>
        <div class="tut-preview"><div class="tut-preview-title" style="margin-bottom:12px;">ëª©í‘œ: <span id="tutGoalName2">-</span></div><div class="unit-opts" id="tutUnitOpts" style="margin-bottom:0;"></div></div>
      </div>
      <div class="tut-step" id="tutStep3">
        <div class="tut-bubble"><div class="tut-bubble-tag">STEP 3 Â· ì™„ë£Œ ì²´í¬</div><div class="tut-bubble-text">ëª©í‘œë¥¼ ìˆ˜í–‰í–ˆë‹¤ë©´ <strong>ë‚ ì§œë¥¼ íƒ­í•´ì„œ</strong> ì™„ë£Œ ì²˜ë¦¬ë¥¼ í•´ìš”.<br>ì´ë²ˆ ì£¼ 4ì¼ì„ ì²´í¬í•´ë³´ì„¸ìš”!</div></div>
        <div class="tut-preview"><div class="tut-preview-title" id="tutGoalName3">-</div><div class="tut-cal-grid" id="tutCalDayRow"></div><div class="tut-cal-grid" id="tutCalGrid"></div></div>
        <div id="tutStep3Status" style="text-align:center;font-family:var(--font-heading);font-size:14px;color:var(--text-dim);margin-bottom:8px;">0 / 4 ì²´í¬</div>
      </div>
      <div class="tut-step" id="tutStep4">
        <div class="tut-bubble"><div class="tut-bubble-tag">STEP 4 Â· ì§„ì²™ë¥ </div><div class="tut-bubble-text">ì²´í¬í•œ ë‚ ì§œë§Œí¼ <strong>í•´ë‹¹ ëª©í‘œì˜ ìˆ˜í–‰ë¥ ì´ ì˜¬ë¼ê°€ìš”!</strong></div></div>
        <div class="tut-preview highlight-box" id="tutGoalCard" style="margin-bottom:12px;"><div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;"><div style="font-size:14px;font-weight:700;" id="tutGoalName4">-</div><div class="tut-goal-pct" id="tutGoalPct4">0%</div></div><div class="tut-bar"><div class="tut-bar-fill" id="tutGoalBar4" style="width:0%"></div></div><div style="font-size:12px;color:var(--text-dim);margin-top:8px;" id="tutGoalStat4">0/0</div></div>
        <div class="tut-global-bar highlight-box"><div class="tut-gb-label">ì´ë²ˆ ë‹¬</div><div class="tut-gb-track"><div class="tut-gb-fill" id="tutGbFill" style="width:0%"></div></div><div class="tut-gb-pct" id="tutGbPct">0%</div></div>
        <button class="tut-confirm-btn" onclick="tutNextStep(5)">ë‹¤ìŒ â†’</button>
      </div>
      <div class="tut-step" id="tutStep5">
        <div class="tut-bubble"><div class="tut-bubble-tag">STEP 5 Â· ë‚˜ì˜ ìºë¦­í„°</div><div class="tut-bubble-text">ì „ì²´ ë‹¬ì„±ë¥ ì— ë”°ë¼ <strong>ìºë¦­í„°ê°€ ìë¼ë‚˜ìš”!</strong> ğŸŒŸ</div></div>
        <div class="tut-avatar-wrap highlight-box"><div class="tut-avatar-art" id="tutAvatarArt"></div><div class="tut-avatar-stage" id="tutAvatarStage">1ë‹¨ê³„ Â· ì•Œ</div><div style="font-size:13px;color:var(--text-dim);">ìˆ˜í–‰ë¥ ì´ ë†’ì•„ì§ˆìˆ˜ë¡ ì„±ì¥í•´ìš”</div></div>
        <button class="tut-confirm-btn" onclick="tutFinish()">ğŸ‰ ì‹œì‘í•˜ê¸°!</button>
      </div>
    </div>
  </div>
</div>

<!-- DASHBOARD -->
<div id="dashboardScreen" class="screen">
  <div class="mobile-wrap">
    <nav class="topnav">
      <div class="nav-logo">í‚¤ì›</div>
      <div class="nav-right">
        <span class="nav-user" id="navUserName"></span>
        <div class="hamburger-wrap">
          <button class="hamburger-btn" id="hamburgerBtn" onclick="toggleHamburger()">
            <span></span><span></span><span></span>
          </button>
          <div class="hamburger-menu" id="hamburgerMenu">
            <button class="hamburger-item" onclick="openAboutMe(); toggleHamburger();">ğŸ” ë‚˜ ì•Œì•„ë³´ê¸°</button>
            <button class="hamburger-item" onclick="openShareCard(); toggleHamburger();">ğŸ“¤ ê³µìœ í•˜ê¸°</button>
            <button class="hamburger-item" onclick="openSettings(); toggleHamburger();">âš™ï¸ ì„¤ì •</button>
            <button class="hamburger-item" onclick="openServiceInfo(); toggleHamburger();">ğŸ“¦ ì„œë¹„ìŠ¤ ì •ë³´</button>
            <button class="hamburger-item" onclick="openWatchGuide(); toggleHamburger();">âŒš ì›Œì¹˜ ë°ì´í„° ì—°ë™</button>
            <button class="hamburger-item" id="adminMenuItem" style="display:none;" onclick="openAdminPanel(); toggleHamburger();">ğŸ”§ ì–´ë“œë¯¼ ê¸°ëŠ¥</button>
            <button class="hamburger-item" onclick="doLogout()">ğŸšª ë¡œê·¸ì•„ì›ƒ</button>
          </div>
        </div>
      </div>
    </nav>
    <div class="tab-bar" id="dashTabBar" style="display:none;">
      <button class="tab-btn active" onclick="switchTab('my')" id="tabBtnMy">ğŸ¯ ë‚˜ì˜ íˆ¬ë‘</button>
      <button class="tab-btn" onclick="switchTab('friends')" id="tabBtnFriends">ğŸ‘¥ ì¹œêµ¬<span id="friendTabBadge" class="friend-tab-badge" style="display:none;"></span></button>
    </div>
    <div class="dash-scroll">
      <div class="notice-banner" id="noticeBanner" onclick="openNoticeModal()">
        <span class="notice-banner-icon">ğŸ“¢</span>
        <span class="notice-banner-title" id="noticeBannerTitle"></span>
        <span class="notice-banner-arrow">â€º</span>
      </div>
      <!-- ë‚˜ì˜ íˆ¬ë‘ íƒ­ -->
      <div class="tab-panel active" id="tabMy">
        <div class="avatar-section">
          <div class="avatar-art" id="avatarArt"></div>
          <div id="cheerBubble" class="cheer-bubble" style="display:none;" onclick="scrollToCheers()"></div>
          <div class="avatar-info-row" id="avatarInfoRow" style="display:none;">
            <span class="avatar-stage" id="avatarStage">1ë‹¨ê³„</span>
            <span class="avatar-nickname" id="avatarNickname">ë‚˜ì˜ ìºë¦­í„°</span>
            <button class="pencil-btn" onclick="startEditNickname()">âœï¸</button>
          </div>
          <div class="avatar-nickname-edit" id="avatarNicknameEdit" style="display:none;"></div>
          <div id="mainFriendActivity"></div>
          <div id="milestoneBar"></div>
        </div>
        <!-- ìŠµê´€/ë„ì „ ì„œë¸Œíƒ­ -->
        <div class="sub-tab-bar">
          <button class="sub-tab-btn active" onclick="switchSubTab('habit')" id="subTabHabit">ìŠµê´€</button>
          <button class="sub-tab-btn" onclick="switchSubTab('challenge')" id="subTabChallenge">ë„ì „</button>
        </div>
        <!-- ìŠµê´€ íŒ¨ë„ -->
        <div class="sub-tab-panel active" id="panelHabit">
          <div class="section-hdr">
            <div class="section-hdr-left">
              <div class="section-hdr-title">ë‚˜ì˜ íˆ¬ë‘</div>
              <div class="section-hdr-count" id="habitCount">0</div>
            </div>
            <div style="display:flex;align-items:center;">
              <select id="habitViewModeSelect" class="view-mode-select" onchange="changeViewMode(this.value)">
                <option value="all">ê¸°ë³¸ ë³´ê¸°</option>
                <option value="time">ì‹œê°„ëŒ€ë³„</option>
                <option value="category">ì¹´í…Œê³ ë¦¬ë³„</option>
              </select>
              <button class="filter-pill" id="habitFilterPill" onclick="toggleHabitFilter()">
                ëª¨ë“  ëª©í‘œ <span class="filter-dot"></span>
              </button>
            </div>
          </div>
          <div id="habitListWrapper"></div>
          <div class="swipe-hint" id="habitSwipeHint">â†’ ë°€ì–´ì„œ ì™„ë£Œ Â· â† ë°€ì–´ì„œ ì·¨ì†Œ</div>
        </div>
        <!-- ë„ì „ íŒ¨ë„ -->
        <div class="sub-tab-panel" id="panelChallenge">
          <div class="section-hdr">
            <div class="section-hdr-left">
              <div class="section-hdr-title">ë‚˜ì˜ ë„ì „</div>
              <div class="section-hdr-count" id="challengeCount">0</div>
            </div>
            <div style="display:flex;align-items:center;">
              <select id="challengeViewModeSelect" class="view-mode-select" onchange="changeChallengeViewMode(this.value)">
                <option value="all">ê¸°ë³¸ ë³´ê¸°</option>
                <option value="type">ìœ í˜•ë³„</option>
                <option value="category">ì¹´í…Œê³ ë¦¬ë³„</option>
                <option value="month">ì¼ì •ë³„</option>
              </select>
              <button class="filter-pill" id="challengeFilterPill" onclick="toggleChallengeFilter()">
                ëª¨ë“  ëª©í‘œ <span class="filter-dot"></span>
              </button>
            </div>
          </div>
          <div id="challengeListWrapper"></div>
          <div class="swipe-hint" id="challengeSwipeHint">í”„ë¡œì íŠ¸ëŠ” íƒ­, ë²„í‚·ì€ ìŠ¤ì™€ì´í”„ë¡œ ê´€ë¦¬</div>
        </div>
        <div style="height:2px;background:var(--border);margin:20px 20px 0;"></div>
        <!-- ì½”ë©˜íŠ¸ ì˜ì—­ ë©”ì¸ í•˜ë‹¨ -->
        <div class="my-cheers-main" id="myCheersMain" style="padding-top:20px;"></div>
      </div>
      <!-- ì¹œêµ¬ íƒ­ -->
      <div class="tab-panel" id="tabFriends">
        <div class="friends-section" id="friendsSection"></div>
      </div>
    </div>
  </div>
</div>

<!-- ë°”í…€ì‹œíŠ¸ -->
<div class="bottomsheet-overlay" id="bsOverlay" onclick="closeBottomSheet()"></div>
<div class="bottomsheet" id="bottomSheet">
  <div class="bs-handle"><div class="bs-handle-bar"></div></div>
  <div class="bs-header">
    <div>
      <div class="bs-title" id="bsTitle">ëª©í‘œ ìƒì„¸</div>
      <div class="bs-meta-tags" id="bsMetaTags"></div>
    </div>
    <button class="bs-close" onclick="closeBottomSheet()">âœ•</button>
  </div>
  <div class="bs-body" id="bsBody"></div>
</div>

<div class="confetti-container" id="confettiContainer"></div>
<div class="notice-modal-overlay" id="noticeModalOverlay">
  <div class="notice-modal">
    <div class="notice-modal-header">
      <span style="font-family:var(--font-heading);font-size:15px;color:var(--text-dim);">ğŸ“¢ ê³µì§€ì‚¬í•­</span>
      <button class="notice-modal-close" onclick="closeNoticeModal()">âœ•</button>
    </div>
    <div class="notice-modal-body" id="noticeModalBody"></div>
  </div>
</div>
<div class="week-clear-popup" id="weekClearPopup">
  <span class="week-clear-emoji">ğŸ†</span>
  <div class="week-clear-title">ì´ë²ˆ ì£¼ ëª©í‘œ ë‹¬ì„±!</div>
  <div class="week-clear-sub">ëŒ€ë‹¨í•´ìš”! ì´ë²ˆ ì£¼ë„ ì™„ë²½í–ˆì–´ìš” ğŸ‰</div>
</div>
<div class="toast" id="toast"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script type="module" src="app.js?v=20260303c"></script>
<script>
/* ë¡œê·¸ì¸ ë°°ê²½ ì• ë‹ˆë©”ì´ì…˜ */
(function(){
  const canvas=document.getElementById('loginCanvas');if(!canvas)return;
  const ctx=canvas.getContext('2d');
  const EMOJIS=['ğŸ£','ğŸ¥','ğŸ¢','ğŸ¦‹','ğŸŒ±','â­','âœ¨','ğŸ”¥','ğŸ’ª','ğŸ¯','ğŸ†','ğŸŒŸ'];
  let W,H,floaters=[],sparks=[];
  function resize(){W=canvas.width=window.innerWidth;H=canvas.height=window.innerHeight;}
  window.addEventListener('resize',resize);resize();
  class Floater{constructor(){this.reset(true);}reset(init=false){this.x=Math.random()*W;this.y=init?Math.random()*H:H+40;this.emoji=EMOJIS[Math.floor(Math.random()*EMOJIS.length)];this.size=16+Math.random()*20;this.speedY=.3+Math.random()*.5;this.speedX=(Math.random()-.5)*.4;this.opacity=.12+Math.random()*.18;this.angle=Math.random()*Math.PI*2;this.wobble=.3+Math.random()*.5;}update(){this.y-=this.speedY;this.x+=Math.sin(this.angle)*this.wobble+this.speedX;this.angle+=.02;if(this.y<-50)this.reset();}draw(){ctx.save();ctx.globalAlpha=this.opacity;ctx.font=`${this.size}px serif`;ctx.textAlign='center';ctx.textBaseline='middle';ctx.translate(this.x,this.y);ctx.fillText(this.emoji,0,0);ctx.restore();}}
  class Spark{constructor(){this.reset(true);}reset(init){this.x=Math.random()*W;this.y=Math.random()*H;this.r=.5+Math.random()*1.5;this.opacity=0;this.maxOp=.15+Math.random()*.25;this.phase=Math.random()*Math.PI*2;this.speed=.02+Math.random()*.03;const c=['#1952f5','#6b8fff','#ff5e7d','#a78bfa','#34d399'];this.color=c[Math.floor(Math.random()*c.length)];}update(){this.phase+=this.speed;this.opacity=this.maxOp*Math.abs(Math.sin(this.phase));}draw(){ctx.save();ctx.globalAlpha=this.opacity;ctx.beginPath();ctx.arc(this.x,this.y,this.r,0,Math.PI*2);ctx.fillStyle=this.color;ctx.fill();ctx.restore();}}
  canvas.addEventListener('click',e=>{for(let i=0;i<6;i++){const f=new Floater();f.x=e.clientX;f.y=e.clientY;f.speedY=1+Math.random()*2;f.speedX=(Math.random()-.5)*3;f.opacity=.6;f.size=20+Math.random()*16;floaters.push(f);}});
  canvas.style.pointerEvents='auto';
  for(let i=0;i<18;i++)floaters.push(new Floater());
  for(let i=0;i<60;i++)sparks.push(new Spark());
  let animId;
  function loop(){ctx.clearRect(0,0,W,H);sparks.forEach(p=>{p.update();p.draw();});floaters.forEach(f=>{f.update();f.draw();});while(floaters.length>40)floaters.shift();animId=requestAnimationFrame(loop);}
  loop();
  const obs=new MutationObserver(()=>{const ls=document.getElementById('loginScreen');if(ls&&ls.classList.contains('active')){if(!animId)loop();}else{cancelAnimationFrame(animId);animId=null;}});
  obs.observe(document.body,{subtree:true,attributes:true,attributeFilter:['class']});
})();
</script>
</body>
</html>
